cmake_minimum_required (VERSION 2.8.6)
PROJECT (HDFJAVA_NCSA_HDF_OBJECT_H4 Java)

SET (CMAKE_VERBOSE_MAKEFILE 1)

INCLUDE_DIRECTORIES (
    ${HDFJAVA_NCSA_HDF_OBJECT_H4_SOURCE_DIR}
    ${HDFJAVA_NCSA_HDF_OBJECT_H4_BINARY_DIR}
)

GET_TARGET_PROPERTY(${HDFJAVA_NCSA_HDF_LIB_TARGET}_JAR_FILE ${HDFJAVA_NCSA_HDF_LIB_TARGET} JAR_FILE)
SET (CMAKE_JAVA_INCLUDE_PATH ${CMAKE_JAVA_INCLUDE_PATH} ${${HDFJAVA_NCSA_HDF_LIB_TARGET}_JAR_FILE} ${${HDFJAVA_NCSA_OBJECT_LIB_TARGET}_JAR_FILE})

SET (HDFJAVA_NCSA_HDF_OBJECT_H4_SRCS
    H4Datatype.java
    H4File.java
    H4GRImage.java
    H4Group.java
    H4SDS.java
    H4Vdata.java
)

INCLUDE_DIRECTORIES (${CMAKE_CURRENT_BINARY_DIR}/CMakeFiles/${HDFJAVA_NCSA_H4_LIB_CORENAME}.dir/ncsa/hdf/object/h4)

ADD_JAR (${HDFJAVA_NCSA_H4_LIB_TARGET} ${HDFJAVA_NCSA_HDF_OBJECT_H4_SRCS})
INSTALL_JAR (${HDFJAVA_NCSA_H4_LIB_TARGET} ${HJAVA_INSTALL_LIB_DIR} libraries)
GET_TARGET_PROPERTY(${HDFJAVA_NCSA_H4_LIB_TARGET}_JAR_FILE ${HDFJAVA_NCSA_H4_LIB_TARGET} JAR_FILE)
SET_GLOBAL_VARIABLE (HDFJAVA_JARS_TO_EXPORT "${HDFJAVA_JARS_TO_EXPORT};${${HDFJAVA_NCSA_H4_LIB_TARGET}_JAR_FILE}")

ADD_DEPENDENCIES (${HDFJAVA_NCSA_H4_LIB_TARGET} ${HDFJAVA_NCSA_OBJECT_LIB_TARGET} ${HDFJAVA_NCSA_HDF_LIB_TARGET})
